tbpl should acceppt two different JSON files.
One with information on trees and pool-of-slaves statistics.
This should track only the current status.

The other one has a list of all branches, pushes and machine results that are
related to a chosen tree.
The data has all the pushes of the last 12 hours or any 12 hour period in the
past. It has all machine results that are testing any of the pushes involved,
even if the machine results are newer than the 12 hour frame.

For example, the "SeaMonkey" _tree_ consists of the following _branches_:
["comm-central", "mozilla-central", "dom-inspector", ...]
Where the first _branch_ is the one for which the pushes are display on the
left by default.
If we are displaying pushes between Monday 13:00 and Tuesday 01:00, and there
is a machine testing one of those pushes Tuesday at 03:00, we display that
result as well.

*** Needs discussion:
** If we only display pushes between Monday 13:00 and Tuesday 01:00 and there
** is a machine that is testing the following revisions Tuesday at 03:00:
** "comm-central": "abc" which was pushed Tuesday 00:00
** "mozilla-central": "abd" which was pushed Tuesday 02:00
** the mozilla-central revision is not included in the 12 hour period and may
** not be accessed directly without going forward in time
***


Tree and Pool-of-slaves JSON:
This JSON is used to provide a tree switcher (upper left), the tree status (top
middle) and the pool-of-slave statistics (with the number of idle slaves) (lower
right) and is reloaded every 2 minutes and only has the most recent data

{
"trees": [
	"Firefox" : {
		"status": "closed",
		"description": "landing compositor",
		"involvedBranches": [
			"mozilla-central" // the first branch is display by default
		],
		"sheriff": "User Name (ircnick)"
	},
	"SeaMonkey" : {
		"status": "open",
		"description": "business as usual",
		"involvedBranches": [
			"comm-central", // is display by default
			"releases/mozilla-1.9.1", // can change branch to display on-thy-fly
			...
		],
		"sheriff": "User Name (ircnick)"
	},
	...
],
"slaves": [
	"slavename1": {
		"os": "OS name, as in linux, tiger, leopard, xp, vista. maybe even gutsy and centos",
		"architecture": "as in x86, x64, arm, (ppc?)",
		"lastJob": {
			"tree": "Firefox",
			"revisions": {
				"mozilla-central": "mercurial changeset"
			},
			"type": "one of 'Build', 'Leak Test', 'Unit Test', 'Nightly', 'Talos', 'Static Analysis'",
			"result": "one of 'success', 'busted', 'testfailed'"
		},
		"currentJob": {
			"tree": "SeaMonkey",
			"revisions": {
				"comm-central": "mercurial changeset",
				"mozilla-central": "mercurial changeset",
				"dom-inspector": "mercurial changeset",
				... other revs
			},
			"type": "Build"
		} or null if the slave is idle,
		"averageCycleTimes": {
			// this is on a per-machine/build type/branch basis
			"Firefox" : {
				"Build": 1200,
				"Unit Test": 3600,
				... // key/value pairs
			},
			"SeaMonkey": {
				"Build": 1200,
				...
			},
			...
		}
	},
	"slavename2": {
		"os": "gutsy",
		"architecture": "x86",
		"lastJob": {
			"tree": "Firefox",
			"revisions": {
				"mozilla-central": "mercurial changeset"
			},
			"type": "Talos",
			"result": "testfailed"
		},
		// no currentJob -> the slave is idle
		"averageCycleTimes": {
			"Firefox" : {
				"Talos": 1200 // the slave is only doing talos runs
			} // only on the Firefox tree
		}
	},
	...
]
}


Pushes and results JSON:
This JSON is specific to one _tree_ and is used to display the most recent
pushes for the branches which are involved in this tree (see above) and the
machine results testing those pushes.
The list of pushes is display on the left, with the ability to switch branches
on-the-fly. The machine results corresponding to the displayed pushes are
displayed on the right, next to the pushes they are testing.
The JSON is reloaded every 2 minutes only when tracking the most recent pushes.
It has the ability to browse into the past in 12 hour steps. When doing that,
the JSON is not reloaded automatically.

{
"pushes": [
	"comm-central": [
		{
			"pusher": "email@address",
			"date": int as unix timestamp,
			"patches": [
				{
					"author": "User Name",
					"description": "commit message",
					"rev": "mercurial changeset"
				},
				... more revs
			],
		},
		... more pushes
	],
	"mozilla-central": [
		{
			"pusher": "arpad.borsos@googlemail.com",
			"date": 1234567890,
			"patches": [
				{
					"author": "Arpad Borsos",
					"description": "Bug 123456 - get rid of nsISupportsArray",
					"rev": "abcd"
				}
				// only one rev was pushed
			],
		},
		... more pushes
	],
	... more branches
]
"results": [
	{
		"runID": "Tinderbox run ID e.g. '1239087413.1239088568.13818.gz', used to access the build logs",
		"slave": "slavename",
		"type": "one of 'Build', 'Leak Test', 'Unit Test', 'Nightly', 'Talos', 'Static Analysis'",
		"state": "as in 'running', 'success', 'testfailed', 'busted'",
		"startTime": int as unix timestamp,
		"endTime": int as unix timestamp or zero on running,
		"revisions": {
			"comm-central": "mercurial changeset",
			"mozilla-central": "mercurial changeset",
			"dom-inspector": "mercurial changeset",
			... other revs
		},
		"notes": [
			{
				"email": "email@address",
				"text": "note text",
				"date": int as unix timestamp
			},
			... more notes
		],
		"testResults": [
			{
				"name": "result name as in 'tsvg', 'Codesize', ...",
				"result": "result as string",
				"resultURL": "optional. the result can be a link",
				"detailsURL": "optional. a details link after the resul in parenthesis"
			},
			... more test results
		]
	},
	{
		"runID": "1239087413.1239088568.13818.gz",
		"slave": "slavename3",
		"type": "Unit Test",
		"state": "testfailed",
		"startTime": 1234567890,
		"endTime": 1234569999,
		"revisions": {
			"mozilla-central": "abcd"
			// if we are tracking the Firefox _tree_, only the mozilla-central
			// _branch_ is involved
		},
		"notes": [
			{
				"email": "arpad.borsos@googlemail.com",
				"text": "intermittent test failure, bug 123456",
				"date": 1234578900
			}
		],
		"testResults": [
			{
				"name": "mochitest-plain",
				"result": "79093/1/1258"
				// mochitest-plain does not have resultURL or detailsURL
			},
			{
				"name": "mochitest-chrome",
				"result": "1446/0/30"
			},
			... crashtest/reftest/and more
		]
	},
	... more results
]
}
