Tinderboxpushlog should accept the following json format:

The json format has been consolidated to remove as much redundancy as possible.
tbpl may need to do some processing itself to present the results in a suitable
form.

Idealy, this json comes from an official database that has all the pushes and
results.

{
"status": "tree status, as in 'open' or 'closed'",
"description": "a description why the tree is closed",
"sheriff": "User Name (ircnick)",
"machines": {
	"Long machine name": {
		"os": "OS name, as in linux, tiger, leopard, xp, vista. maybe even gutsy and centos",
		"architecture": "as in x86, x64, arm, (ppc?)",
		"lastJob": {
			"revisions": {
				"comm-central": "mercurial changeset",
				"mozilla-central": "mercurial changeset",
				"dom-inspector": "mercurial changeset",
				... other revs
			},
			"type": "one of 'Build', 'Leak Test', 'Unit Test', 'Nightly', 'Talos', 'Static Analysis'",
			"result": "one of 'success', 'busted', 'testfailed'"
		},
		"currentJob": {
			"revisions": {
				"comm-central": "mercurial changeset",
				"mozilla-central": "mercurial changeset",
				"dom-inspector": "mercurial changeset",
				... other revs
			},
			"type": "one of 'Build', 'Leak Test', 'Unit Test', 'Nightly', 'Talos', 'Static Analysis'",
		} or null if the slave is idle,
		"averageCycleTimes": {
			"Build": int as seconds,
			/* key/value pairs for all the other types */
		}
	},
	... more machines
},
"pushes": [
	{
		"pusher": "email@address",
		"date": int as unix timestamp,
		"patches": [
			{
				"author": "User Name",
				"description": "commit message",
				"rev": "mercurial changeset"
			},
			... more revs
		],
		"results": [
			{
				"runID": "Tinderbox run ID e.g. '1239087413.1239088568.13818.gz'",
				"machine": "long machine name",
				"state": "as in 'running', 'success', 'testfailed', 'busted'",
				"startTime": int as unix timestamp,
				"endTime": int as unix timestamp or zero on running,
				"revisions": {
					"mozilla-central": "mercurial changeset",
					"dom-inspector": "mercurial changeset",
					... other revs
				} or null if the build only depends on one repository,
				"notes": [
					{
						"email": "email@address",
						"text": "note text",
						"date": int as unix timestamp
					},
					... more notes
				],
				"testResults": [
					{
						"name": "result name as in 'tsvg', 'Codesize', ...",
						"result": "result as string",
						"resultURL": "optional. the result can be a link",
						"detailsURL": "optional. a details link after the resul in parenthesis"
					},
					... more test results
				]
			},
			... more results
		]
	},
	... more pushes
]
}
